<div class="home-wrapper">
    <div class="title">
        <h1>Trending and Upcoming Games</h1>

        <div class="filter-container">
            <div class="select-wrapper">
                <mat-select [(value)]="selectedFilter" [formControl]="orderByControl" (selectionChange)="filter()">
                    <mat-option></mat-option>
                    @for (filter of filters; track filter) {
                      <mat-option [value]="filter.value">{{ filter.viewValue }}</mat-option>
                    }
                </mat-select>    
            </div>
            <div class="button-wrapper">
                <h3 class="page">Page: {{page}}</h3>
                <div class="button-group">
                    <button class="page-button" mat-raised-button (click)="previousPage()">Previous</button>
                    <button class="page-button" mat-raised-button (click)="nextPage()" style="margin-left: 8px;">Next</button>
                </div>
            </div>  
        </div>

        <!-- <select name="" id="" [formControl]="orderByControl" (change)="filter()">
            <option value="-relevance">Relevance</option>
            <option value="-created">Date Added</option>
            <option value="name">Name</option>
            <option value="-added">Popularity</option>
            <option value="-released">Release Date</option>
            <option value="-rating">Average rating</option>
        </select> -->
    </div>
    
    <!-- <div *ngFor="let game of games$ | async">
        <a [routerLink]="['/game', game.gameId]">{{game.name}}</a>
        <p>Id: {{game.gameId}}</p>
        <img [src]="game.images[0]" alt="" width="200">
        <p>Rating: {{game.rating}}</p>
        <div *ngFor="let platform of game.platforms">
            <span>{{platform}}</span>
        </div>
        <p>Released date: {{game.releaseDate}}</p>
    </div> -->

    <div class="container responsive-grid">
        <mat-card class="example-card" *ngFor="let game of games$ | async">
            <img mat-card-image [src]="game.images[0]" width="100%" alt="Photo of the Game">
          <mat-card-header>
            <mat-card-title><a [routerLink]="['/game', game.gameId]" class="custom-link">{{ game.name }} </a></mat-card-title>
          </mat-card-header>
          <!-- <br /> -->
          <mat-card-content>
            <!-- <br /> -->
            <p>Rating: {{game.rating }}</p>
            <!-- <div class="platform-container">
                <span>Platforms: </span>                   
                <div *ngFor="let platform of game.platforms; let last = last">
                    <span>{{ platform }}</span>
                    <span *ngIf="!last">, </span>
                </div>
            </div> -->
            <hr>
            <div class="genre-container">
                <span>Genres: </span>
                <span *ngFor="let genre of game.genres; let last = last">
                    <span>{{ genre }}</span>
                    <span *ngIf="!last">, </span>
                </span>
            </div>
            <hr>
            <p>Released date: {{game.releaseDate | date}}</p>
          </mat-card-content>
        </mat-card>
      </div>
  

</div>

